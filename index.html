<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H√†nh Tr√¨nh Th·∫ßn S·ªë H·ªçc: Phan Ng·ªçc Th·∫Øng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony (Warm neutrals, soft terracotta, deep green, gentle blue) -->
    <!-- Application Structure Plan: A dashboard-style SPA with a main navigation hub linking to four interactive sections: 'Energy Overview' (with cards and a radar chart), 'Birth Chart Map' (interactive grid), 'Life's Journey' (timeline and line chart), and 'Synthesis' (accordion text). This non-linear structure empowers the user to explore their numerological profile based on their curiosity, rather than following the report's linear text format. It transforms passive reading into active discovery, enhancing comprehension and engagement. -->
    <!-- Visualization & Content Choices: 1. Core Numbers -> Goal: Inform/Compare -> Viz: Interactive Cards + Radar Chart -> Interaction: Click-to-reveal details -> Justification: Cards break down info, radar chart provides a holistic visual summary -> Library: Chart.js. 2. Birth Chart -> Goal: Organize/Inform -> Viz: Interactive HTML Grid -> Interaction: Hover/click for details, toggle to highlight 'Arrows' -> Justification: Direct manipulation of the chart is more engaging than a static image -> Library: Vanilla JS. 3. 4 Pinnacles -> Goal: Show Change -> Viz: Interactive Timeline + Line Chart -> Interaction: Click peak for details -> Justification: Timeline shows sequence, line chart visualizes the energetic shifts over a lifetime -> Library: Chart.js. 4. Synthesis -> Goal: Guide -> Viz: Accordion Text Blocks -> Interaction: Click-to-expand -> Justification: Prevents information overload from a large block of text -> Library: Vanilla JS. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF5;
            color: #3D405B;
        }
        .nav-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .nav-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .nav-card.active {
            border-color: #E07A5F;
            background-color: #F9EAE4;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .birth-chart-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            border: 2px solid #D6CCC2;
            max-width: 300px;
            aspect-ratio: 1/1;
        }
        .birth-chart-cell {
            border: 1px solid #E3D5CA;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 600;
            color: #3D405B;
            position: relative;
        }
        .birth-chart-cell.highlight {
            background-color: #F9EAE4;
        }
        .arrow-line {
            position: absolute;
            background-color: #E07A5F;
            opacity: 0.7;
            transform-origin: 0 0;
            display: none;
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-[#3D405B]">H√†nh Tr√¨nh Th·∫ßn S·ªë H·ªçc</h1>
            <p class="text-lg md:text-xl text-[#81B29A] mt-2">Phan Ng·ªçc Th·∫Øng - 25/07/1994</p>
        </header>

        <nav id="main-nav" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
            <div data-target="overview" class="nav-card active cursor-pointer p-4 border-2 border-transparent rounded-lg bg-white shadow-md text-center">
                <div class="text-4xl mb-2">‚ú®</div>
                <h2 class="font-semibold">T·ªïng Quan NƒÉng L∆∞·ª£ng</h2>
            </div>
            <div data-target="birth-chart" class="nav-card cursor-pointer p-4 border-2 border-transparent rounded-lg bg-white shadow-md text-center">
                <div class="text-4xl mb-2">üó∫Ô∏è</div>
                <h2 class="font-semibold">B·∫£n ƒê·ªì Ng√†y Sinh</h2>
            </div>
            <div data-target="journey" class="nav-card cursor-pointer p-4 border-2 border-transparent rounded-lg bg-white shadow-md text-center">
                <div class="text-4xl mb-2">‚õ∞Ô∏è</div>
                <h2 class="font-semibold">H√†nh Tr√¨nh Cu·ªôc ƒê·ªùi</h2>
            </div>
            <div data-target="synthesis" class="nav-card cursor-pointer p-4 border-2 border-transparent rounded-lg bg-white shadow-md text-center">
                <div class="text-4xl mb-2">üß≠</div>
                <h2 class="font-semibold">Lu·∫≠n Gi·∫£i & G·ª£i √ù</h2>
            </div>
        </nav>

        <main>
            <section id="overview" class="content-section active">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <p class="text-center mb-6 text-gray-600">ƒê√¢y l√† b·ªën ch·ªâ s·ªë c·ªët l√µi t·∫°o n√™n n·ªÅn t·∫£ng nƒÉng l∆∞·ª£ng c·ªßa anh. Ch√∫ng t∆∞∆°ng t√°c v·ªõi nhau, t·∫°o n√™n b·∫£n s·∫Øc v√† con ƒë∆∞·ªùng ph√°t tri·ªÉn ƒë·ªôc ƒë√°o. Nh·∫•p v√†o t·ª´ng th·∫ª ƒë·ªÉ kh√°m ph√° s√¢u h∆°n.</p>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="grid grid-cols-2 gap-4" id="core-numbers-grid"></div>
                        <div id="core-number-details" class="p-4 bg-[#FDFBF5] rounded-lg border border-gray-200 min-h-[200px]">
                            <h3 class="font-bold text-lg text-[#E07A5F]"></h3>
                            <p class="mt-2"></p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="birth-chart" class="content-section">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                     <p class="text-center mb-6 text-gray-600">Bi·ªÉu ƒë·ªì ng√†y sinh ti·∫øt l·ªô nh·ªØng ti·ªÅm nƒÉng b·∫©m sinh. C√°c con s·ªë hi·ªán di·ªán l√† ngu·ªìn l·ª±c, c√°c m≈©i t√™n l√† s·ª©c m·∫°nh v∆∞·ª£t tr·ªôi, v√† c√°c con s·ªë tr·ªëng l√† b√†i h·ªçc c·∫ßn t√≠ch h·ª£p.</p>
                    <div class="flex flex-col md:flex-row gap-8 items-start justify-center">
                        <div class="flex-shrink-0 mx-auto">
                            <div id="birth-chart-grid" class="birth-chart-grid mx-auto relative"></div>
                            <div class="mt-4 text-center">
                                <p class="font-semibold">M≈©i T√™n S·ª©c M·∫°nh:</p>
                                <div class="flex justify-center gap-4 mt-2">
                                    <button data-arrow="1-4-7" class="arrow-toggle px-3 py-1 bg-gray-200 rounded-full text-sm">Th·ª±c T·∫ø</button>
                                    <button data-arrow="1-5-9" class="arrow-toggle px-3 py-1 bg-gray-200 rounded-full text-sm">Quy·∫øt T√¢m</button>
                                </div>
                            </div>
                        </div>
                        <div id="birth-chart-details" class="flex-grow p-4 bg-[#FDFBF5] rounded-lg border border-gray-200 min-h-[300px]">
                            <h3 class="font-bold text-lg text-[#81B29A]">Kh√°m ph√° bi·ªÉu ƒë·ªì</h3>
                            <p class="mt-2 text-gray-600">Di chu·ªôt ho·∫∑c nh·∫•p v√†o m·ªôt con s·ªë ƒë·ªÉ xem √Ω nghƒ©a c·ªßa n√≥, ho·∫∑c nh·∫•p v√†o c√°c n√∫t M≈©i T√™n S·ª©c M·∫°nh ƒë·ªÉ xem lu·∫≠n gi·∫£i.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="journey" class="content-section">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <p class="text-center mb-6 text-gray-600">Cu·ªôc ƒë·ªùi ƒë∆∞·ª£c chia th√†nh 4 ƒë·ªânh cao, m·ªói ƒë·ªânh cao l√† m·ªôt chu k·ª≥ 9 nƒÉm mang ƒë·∫øn nh·ªØng b√†i h·ªçc v√† c∆° h·ªôi ri√™ng. Bi·ªÉu ƒë·ªì b√™n d∆∞·ªõi th·ªÉ hi·ªán s·ª± thay ƒë·ªïi nƒÉng l∆∞·ª£ng qua c√°c giai ƒëo·∫°n n√†y.</p>
                     <div class="chart-container mx-auto">
                        <canvas id="pinnaclesChart"></canvas>
                    </div>
                    <div id="pinnacles-timeline" class="mt-8 flex justify-between relative"></div>
                    <div id="pinnacle-details" class="mt-6 p-4 bg-[#FDFBF5] rounded-lg border border-gray-200 min-h-[150px]">
                         <p class="text-center text-gray-500">Nh·∫•p v√†o m·ªôt ƒë·ªânh cao tr√™n d√≤ng th·ªùi gian ƒë·ªÉ xem chi ti·∫øt.</p>
                    </div>
                </div>
            </section>

            <section id="synthesis" class="content-section">
                 <div class="bg-white p-6 rounded-lg shadow-lg">
                    <p class="text-center mb-6 text-gray-600">Ph·∫ßn n√†y ƒëan k·∫øt t·∫•t c·∫£ c√°c y·∫øu t·ªë l·∫°i v·ªõi nhau, soi chi·∫øu m·ªëi li√™n h·ªá s√¢u s·∫Øc gi·ªØa c√°c con s·ªë, thi·ªÅn ƒë·ªãnh v√† l·ªëi s·ªëng t·ªânh th·ª©c c·ªßa anh, c√πng nh·ªØng g·ª£i √Ω cho h√†nh tr√¨nh ph√≠a tr∆∞·ªõc.</p>
                    <div id="accordion-container" class="space-y-4"></div>
                 </div>
            </section>
        </main>

        <footer class="text-center mt-12 text-gray-500 text-sm">
            <p>B√°o c√°o ƒë∆∞·ª£c t·∫°o d·ª±a tr√™n th√¥ng tin do Phan Ng·ªçc Th·∫Øng cung c·∫•p.</p>
            <p>ƒê√¢y l√† m·ªôt c√¥ng c·ª• tham kh·∫£o v√† chi√™m nghi·ªám, kh√¥ng mang t√≠nh quy·∫øt ƒë·ªãnh s·ªë ph·∫≠n.</p>
        </footer>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const data = {
        coreNumbers: [
            { id: 'lifepath', number: 1, title: 'ƒê∆∞·ªùng ƒê·ªùi', keyword: 'Ng∆∞·ªùi Ti√™n Phong', description: 'Con ƒë∆∞·ªùng c·ªßa s·ª± ƒë·ªôc l·∫≠p, t·ª± ch·ªß v√† l√£nh ƒë·∫°o. Anh c√≥ √Ω ch√≠ m·∫°nh m·∫Ω ƒë·ªÉ t·ª± m√¨nh khai ph√° l·ªëi ƒëi ri√™ng. Th√°ch th·ª©c l·ªõn nh·∫•t tr√™n con ƒë∆∞·ªùng t√¢m linh ch√≠nh l√† b·∫£n ng√£, v√† m·ªói gi·ªù thi·ªÅn l√† m·ªôt cu·ªôc ƒë·ªëi m·∫∑t tr·ª±c di·ªán v·ªõi th√°ch th·ª©c n√†y.' },
            { id: 'destiny', number: 11, title: 'S·ª© M·ªánh', keyword: 'S·ª© Gi·∫£ T√¢m Linh', description: 'L√† m·ªôt Con s·ªë Vua, s·ª© m·ªánh c·ªßa anh l√† tr·ªü th√†nh c·∫ßu n·ªëi gi·ªØa th·∫ø gi·ªõi t√¢m linh v√† v·∫≠t ch·∫•t, truy·ªÅn c·∫£m h·ª©ng b·∫±ng tr·ª±c gi√°c v√† l√≤ng tr·∫Øc ·∫©n. C√≥ s·ª± gi·∫±ng co gi·ªØa vi·ªác "ƒëi m·ªôt m√¨nh" (ƒê∆∞·ªùng ƒê·ªùi 1) v√† "d·∫´n d·∫Øt t·∫≠p th·ªÉ" (S·ª© M·ªánh 11).' },
            { id: 'soul', number: 8, title: 'Linh H·ªìn', keyword: 'Ng∆∞·ªùi L√†m Ch·ªß', description: 'Linh h·ªìn anh khao kh√°t quy·ªÅn l·ª±c, th√†nh t·ª±u v√† s·ª± v·ªØng ch·∫Øc. L·ªëi s·ªëng k·ª∑ lu·∫≠t c·ªßa anh ƒëang chuy·ªÉn h√≥a nh·ªØng kh√°i ni·ªám n√†y: "quy·ªÅn l·ª±c" tr·ªü th√†nh s·ª± l√†m ch·ªß n·ªôi t√¢m, v√† "th·ªãnh v∆∞·ª£ng" l√† s·ª± gi√†u c√≥ v·ªÅ b√¨nh an. ƒê√¢y l√† ngu·ªìn nƒÉng l∆∞·ª£ng v√¥ t·∫≠n cho vi·ªác th·ª±c h√†nh.' },
            { id: 'personality', number: 3, title: 'Nh√¢n C√°ch', keyword: 'Ng∆∞·ªùi Giao Ti·∫øp', description: 'V·∫ª ngo√†i c·ªßa anh to√°t l√™n s·ª± vui v·∫ª, s√°ng t·∫°o v√† h√≤a ƒë·ªìng. ƒê√¢y l√† c√¥ng c·ª• quan tr·ªçng cho S·ª© m·ªánh 11, gi√∫p anh chia s·∫ª nh·ªØng ch√¢n l√Ω s√¢u s·∫Øc m·ªôt c√°ch nh·∫π nh√†ng, truy·ªÅn c·∫£m h·ª©ng, thay v√¨ kh√¥ khan, h·ªçc thu·∫≠t.' }
        ],
        birthChart: {
            grid: [
                { pos: [0, 2], number: 9, count: 2 },
                { pos: [1, 0], number: 2, count: 1 },
                { pos: [1, 1], number: 5, count: 1 },
                { pos: [2, 0], number: 1, count: 1 },
                { pos: [2, 1], number: 4, count: 1 },
                { pos: [2, 2], number: 7, count: 1 }
            ],
            numbers: {
                '1': 'C·ªßng c·ªë ƒê∆∞·ªùng ƒë·ªùi 1, cho th·∫•y s·ª± ƒë·ªôc l·∫≠p v√† c√°i t√¥i c√¢n b·∫±ng.',
                '2': 'S·ª± nh·∫°y c·∫£m v√† tr·ª±c gi√°c, h·ªó tr·ª£ cho S·ª© m·ªánh 11.',
                '4': 'Con s·ªë c·ªßa k·ª∑ lu·∫≠t, tr·∫≠t t·ª± v√† s·ª± chƒÉm ch·ªâ, ph·∫£n √°nh l·ªëi s·ªëng c·ªßa anh.',
                '5': 'N·∫±m ·ªü trung t√¢m, ƒë·∫°i di·ªán cho s·ª± k·∫øt n·ªëi, t√¨nh y√™u th∆∞∆°ng v√† t·ª± do.',
                '7': 'Con s·ªë c·ªßa ng∆∞·ªùi t√¨m ki·∫øm ch√¢n l√Ω, c·ªßa s·ª± chi√™m nghi·ªám v√† h·ªçc h·ªèi qua tr·∫£i nghi·ªám.',
                '9': 'Hai s·ªë 9 cho th·∫•y m·ªôt l√Ω t∆∞·ªüng v√† ho√†i b√£o r·∫•t l·ªõn, mong mu·ªën c·ªëng hi·∫øn cho nh√¢n lo·∫°i.'
            },
            arrows: {
                '1-4-7': { name: 'Th·ª±c T·∫ø', description: 'N·ªÅn t·∫£ng v·ªØng ch·∫Øc, th·ª±c t·∫ø, th√°o v√°t. Anh c√≥ kh·∫£ nƒÉng bi·∫øn vi·ªác th·ª±c h√†nh t√¢m linh th√†nh m·ªôt ph·∫ßn h·ªØu h√¨nh, nh·∫•t qu√°n trong cu·ªôc s·ªëng.', cells: ['2-0', '2-1', '2-2'] },
                '1-5-9': { name: 'Quy·∫øt T√¢m', description: '√ù ch√≠ phi th∆∞·ªùng, ki√™n tr√¨ theo ƒëu·ªïi m·ª•c ti√™u ƒë·∫øn c√πng. ƒê√¢y l√† ngu·ªìn s·ª©c m·∫°nh ƒë·ªÉ duy tr√¨ m·ªôt ch·∫ø ƒë·ªô nghi√™m ng·∫∑t trong nhi·ªÅu nƒÉm.', cells: ['2-0', '1-1', '0-2'] }
            },
            missing: 'C√°c s·ªë tr·ªëng (3, 6, 8) t·∫°o ra m·ªôt xu h∆∞·ªõng t·ª± nhi√™n h∆∞·ªõng v·ªÅ ƒë·ªùi s·ªëng n·ªôi t√¢m. Vi·ªác thi·ªÅn ƒë·ªãnh ch√≠nh l√† ph∆∞∆°ng ph√°p ho√†n h·∫£o ƒë·ªÉ "l·∫•p ƒë·∫ßy" nh·ªØng kho·∫£ng tr·ªëng n√†y m·ªôt c√°ch c√≥ √Ω th·ª©c: nu√¥i d∆∞·ª°ng ni·ªÅm vui n·ªôi t·∫°i (3), ph√°t tri·ªÉn l√≤ng t·ª´ bi (6), v√† x√¢y d·ª±ng s·ª± l√†m ch·ªß n·ªôi t√¢m (8).'
        },
        pinnacles: [
            { age: 35, number: 5, title: 'T·ª± Do & Thay ƒê·ªïi', description: 'Giai ƒëo·∫°n c·ªßa s·ª± gi·∫£i tho√°t kh·ªèi nh·ªØng c·∫•u tr√∫c c≈©. ƒê·ªëi v·ªõi anh, n√≥ c√≥ th·ªÉ bi·ªÉu hi·ªán nh∆∞ m·ªôt "s·ª± t·ª± do t√¢m linh"‚Äîm·ªôt b∆∞·ªõc ƒë·ªôt ph√° trong th·ª±c h√†nh. Th√°ch th·ª©c l√† c√¢n b·∫±ng nƒÉng l∆∞·ª£ng m·ªü r·ªông n√†y v·ªõi k·ª∑ lu·∫≠t.' },
            { age: 44, number: 3, title: 'S√°ng T·∫°o & Bi·ªÉu ƒê·∫°t', description: 'Sau th·ªùi gian d√†i l√†m vi·ªác n·ªôi t√¢m, con ƒë∆∞·ªùng c·ªßa anh s·∫Ω h∆∞·ªõng ra ngo√†i. ƒê√¢y l√† l√∫c S·ª© m·ªánh 11 v√† Nh√¢n c√°ch 3 t·ªèa s√°ng, k√™u g·ªçi anh gi·∫£ng d·∫°y, vi·∫øt l√°ch, ho·∫∑c chia s·∫ª tr√≠ tu·ªá m·ªôt c√°ch s√°ng t·∫°o.' },
            { age: 53, number: 8, title: 'L√†m Ch·ªß & Th√†nh T·ª±u', description: 'ƒê·ªânh cao c·ªßa s·ª± th√†nh th·∫°o, n∆°i Linh h·ªìn 8 t√¨m th·∫•y bi·ªÉu hi·ªán t·ªëi th∆∞·ª£ng. Anh c√≥ th·ªÉ tr·ªü th√†nh m·ªôt ng∆∞·ªùi th·∫ßy ƒë∆∞·ª£c k√≠nh tr·ªçng, n∆°i s·ª± l√†m ch·ªß n·ªôi t√¢m ƒë∆∞·ª£c c√¥ng nh·∫≠n trong th·∫ø gi·ªõi b√™n ngo√†i.' },
            { age: 62, number: 3, title: 'Chia S·∫ª Tr√≠ Tu·ªá An Vui', description: 'Giai ƒëo·∫°n vui v·∫ª chia s·∫ª tr√≠ tu·ªá ƒë√£ t√≠ch l≈©y. C√¥ng vi·ªác ƒë√£ ho√†n th√†nh, v√† b√¢y gi·ªù l√† l√∫c ƒë·ªÉ t·ªèa ra ni·ªÅm vui v√† c·∫£m h·ª©ng, ho√†n th√†nh S·ª© m·ªánh 11 m·ªôt c√°ch nh·∫π nh√†ng.' }
        ],
        synthesis: [
            { title: 'S·ª± C·ªông H∆∞·ªüng Ho√†n H·∫£o: Khi L·ªëi S·ªëng Ph·∫£n Chi·∫øu V·∫≠n M·ªánh', content: 'Bi·ªÉu ƒë·ªì s·ªë h·ªçc c·ªßa anh l√† m·ªôt s·ª± l√Ω gi·∫£i s√¢u s·∫Øc cho l·ªëi s·ªëng anh ƒë√£ ch·ªçn. ƒê∆∞·ªùng ƒë·ªùi 1 (ti√™n phong), M≈©i t√™n Quy·∫øt t√¢m (1-5-9), c√πng s·ªë 7 (ng∆∞·ªùi t√¨m ki·∫øm) v√† s·ªë 4 (k·ª∑ lu·∫≠t) ƒë·ªÅu ch·ªâ ra m·ªôt ng∆∞·ªùi ƒë∆∞·ª£c trang b·ªã ƒë·ªôc ƒë√°o cho m·ªôt con ƒë∆∞·ªùng t√¢m linh nghi√™m ng·∫∑t, t·ª± ƒë·ªãnh h∆∞·ªõng. Vi·ªác th·ª±c h√†nh c·ªßa anh ch√≠nh l√† ph√≤ng th√≠ nghi·ªám c·ªßa ng∆∞·ªùi ti√™n phong t√¢m linh (1), ng∆∞·ªùi t√¨m ki·∫øm h∆∞·ªõng n·ªôi (7), v√† s·ª© gi·∫£ tr·ª±c gi√°c (11).' },
            { title: 'M√¢u Thu·∫´n N·ªôi T·∫°i & Con ƒê∆∞·ªùng Chuy·ªÉn H√≥a', content: 'ƒê·ªông l·ª±c c·ªët l√µi l√† s·ª± cƒÉng th·∫≥ng s√°ng t·∫°o gi·ªØa kh√°t v·ªçng quy·ªÅn l·ª±c c·ªßa Linh h·ªìn 8 v√† l·ªëi s·ªëng kh·ªï h·∫°nh. M·ª•c ti√™u kh√¥ng ph·∫£i l√† ƒë√†n √°p, m√† l√† chuy·ªÉn h√≥a n√≥: chuy·ªÉn h∆∞·ªõng ƒë·ªông l·ª±c c·ªßa s·ªë 8 kh·ªèi v·∫≠t ch·∫•t ƒë·ªÉ h∆∞·ªõng t·ªõi tr√≠ tu·ªá v√† b√¨nh an. S·ª± th√†nh c√¥ng c·ªßa qu√° tr√¨nh n√†y l√† ch√¨a kh√≥a ƒë·ªÉ m·ªü kh√≥a ti·ªÅm nƒÉng c·ªßa S·ª© m·ªánh 11, cung c·∫•p m·ªôt quy·ªÅn l·ª±c n·ªôi t·∫°i kh√¥ng th·ªÉ lay chuy·ªÉn.' },
            { title: 'G·ª£i √ù Cho H√†nh Tr√¨nh Ph√≠a Tr∆∞·ªõc', content: '<ul><li class="mb-2"><strong>ƒê√≥n Nh·∫≠n Vai Tr√≤ S·ª© Gi·∫£:</strong> B·∫Øt ƒë·∫ßu t√¨m c√°ch th·ªÉ hi·ªán nh·ªØng hi·ªÉu bi·∫øt c·ªßa m√¨nh, d√π nh·ªè, ƒë·ªÉ chu·∫©n b·ªã cho c√°c ƒë·ªânh cao s·∫Øp t·ªõi.</li><li class="mb-2"><strong>ƒêi·ªÅu H∆∞·ªõng ƒê·ªânh Cao S·ªë 5 (35 tu·ªïi):</strong> C·ªüi m·ªü v·ªõi s·ª± thay ƒë·ªïi v√† tr·∫£i nghi·ªám m·ªõi. H√£y d√πng s·ª± ·ªïn ƒë·ªãnh t·ª´ thi·ªÅn ƒë·ªãnh l√†m m·ªè neo.</li><li class="mb-2"><strong>Ti·∫øp T·ª•c Thu·∫≠t Gi·∫£ Kim C·ªßa S·ªë 8:</strong> C√≥ √Ω th·ª©c ti·∫øp t·ª•c t√°i ƒë·ªãnh nghƒ©a "quy·ªÅn l·ª±c" l√† s·ª± t·ª± ch·ªß v√† "th·ªãnh v∆∞·ª£ng" l√† s·ª± gi√†u c√≥ n·ªôi t·∫°i.</li><li class="mb-2"><strong>Nu√¥i D∆∞·ª°ng S·ª± Bi·ªÉu ƒê·∫°t Vui V·∫ª:</strong> T·∫°o kh√¥ng gian cho ni·ªÅm vui v√† s·ª± nh·∫π nh√†ng (c√¢n b·∫±ng s·ªë 3 b·ªã thi·∫øu) ƒë·ªÉ l√†m cho th√¥ng ƒëi·ªáp c·ªßa anh d·ªÖ ti·∫øp c·∫≠n h∆°n.</li></ul>' }
        ]
    };

    const navCards = document.querySelectorAll('.nav-card');
    const contentSections = document.querySelectorAll('.content-section');

    navCards.forEach(card => {
        card.addEventListener('click', () => {
            const targetId = card.dataset.target;

            navCards.forEach(c => c.classList.remove('active'));
            card.classList.add('active');

            contentSections.forEach(section => {
                if (section.id === targetId) {
                    section.classList.add('active');
                } else {
                    section.classList.remove('active');
                }
            });
        });
    });
    
    function initOverview() {
        const grid = document.getElementById('core-numbers-grid');
        const detailsPanel = document.getElementById('core-number-details');
        const detailsTitle = detailsPanel.querySelector('h3');
        const detailsDesc = detailsPanel.querySelector('p');

        data.coreNumbers.forEach((num, index) => {
            const card = document.createElement('div');
            card.className = 'p-4 rounded-lg border-2 border-gray-200 cursor-pointer transition-all duration-300 hover:border-[#E07A5F] hover:bg-opacity-50';
            card.innerHTML = `
                <div class="flex items-center">
                    <span class="text-3xl font-bold text-[#E07A5F] mr-3">${num.number}</span>
                    <div>
                        <h4 class="font-semibold">${num.title}</h4>
                        <p class="text-sm text-gray-500">${num.keyword}</p>
                    </div>
                </div>
            `;
            card.addEventListener('click', () => {
                document.querySelectorAll('#core-numbers-grid > div').forEach(c => c.classList.remove('bg-[#F9EAE4]', 'border-[#E07A5F]'));
                card.classList.add('bg-[#F9EAE4]', 'border-[#E07A5F]');
                detailsTitle.textContent = `${num.title} - S·ªë ${num.number}`;
                detailsDesc.textContent = num.description;
            });
            grid.appendChild(card);
            if (index === 0) card.click();
        });
    }

    function initBirthChart() {
        const grid = document.getElementById('birth-chart-grid');
        const detailsPanel = document.getElementById('birth-chart-details');
        const cells = {};

        for(let r=0; r<3; r++) {
            for(let c=0; c<3; c++) {
                const cell = document.createElement('div');
                cell.className = 'birth-chart-cell';
                cell.dataset.pos = `${r}-${c}`;
                grid.appendChild(cell);
                cells[`${r}-${c}`] = cell;
            }
        }
        
        data.birthChart.grid.forEach(item => {
            const cell = cells[`${item.pos[0]}-${item.pos[1]}`];
            cell.textContent = item.count > 1 ? `${item.number}, ${item.number}` : item.number;
            cell.dataset.number = item.number;
            cell.addEventListener('mouseover', () => {
                detailsPanel.innerHTML = `<h3 class="font-bold text-lg text-[#81B29A]">S·ªë ${item.number}</h3><p class="mt-2">${data.birthChart.numbers[item.number]}</p>`;
            });
        });
        
        const arrowToggles = document.querySelectorAll('.arrow-toggle');
        arrowToggles.forEach(toggle => {
            toggle.addEventListener('click', () => {
                const arrowKey = toggle.dataset.arrow;
                const arrowData = data.birthChart.arrows[arrowKey];
                
                document.querySelectorAll('.birth-chart-cell').forEach(c => c.classList.remove('highlight'));
                arrowData.cells.forEach(pos => {
                    cells[pos].classList.add('highlight');
                });
                
                detailsPanel.innerHTML = `<h3 class="font-bold text-lg text-[#E07A5F]">M≈©i T√™n ${arrowData.name}</h3><p class="mt-2">${arrowData.description}</p>`;
            });
        });
    }

    function initJourney() {
        const ctx = document.getElementById('pinnaclesChart').getContext('2d');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: data.pinnacles.map(p => `${p.age} tu·ªïi`),
                datasets: [{
                    label: 'NƒÉng L∆∞·ª£ng ƒê·ªânh Cao',
                    data: data.pinnacles.map(p => p.number),
                    borderColor: '#E07A5F',
                    backgroundColor: '#F9EAE4',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: true }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    label += `S·ªë ${context.parsed.y}`;
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });

        const timeline = document.getElementById('pinnacles-timeline');
        const detailsPanel = document.getElementById('pinnacle-details');
        
        timeline.innerHTML = '<div class="absolute top-1/2 left-0 w-full h-0.5 bg-gray-300 -translate-y-1/2"></div>';

        data.pinnacles.forEach((p, index) => {
            const point = document.createElement('div');
            point.className = 'relative z-10 w-10 h-10 bg-white border-2 border-[#81B29A] rounded-full flex items-center justify-center cursor-pointer flex-col text-sm';
            point.innerHTML = `<span class="font-bold">${p.age}t</span>`;
            point.addEventListener('click', () => {
                detailsPanel.innerHTML = `<h3 class="font-bold text-lg text-[#81B29A]">ƒê·ªânh Cao ${index + 1} (${p.age} tu·ªïi) - S·ªë ${p.number}: ${p.title}</h3><p class="mt-2">${p.description}</p>`;
                document.querySelectorAll('#pinnacles-timeline > div.relative').forEach(pt => {
                    pt.classList.remove('bg-[#D4E2D4]', 'border-[#3D405B]');
                });
                point.classList.add('bg-[#D4E2D4]', 'border-[#3D405B]');
            });
            timeline.appendChild(point);
        });
    }
    
    function initSynthesis() {
        const container = document.getElementById('accordion-container');
        data.synthesis.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'border border-gray-200 rounded-lg';
            div.innerHTML = `
                <button class="accordion-header w-full p-4 text-left font-semibold flex justify-between items-center transition-colors duration-300 hover:bg-gray-50">
                    <span>${item.title}</span>
                    <span class="transform transition-transform duration-300 text-[#81B29A]">&#9662;</span>
                </button>
                <div class="accordion-content">
                    <div class="p-4 pt-0 text-gray-700">${item.content}</div>
                </div>
            `;
            container.appendChild(div);
        });

        container.addEventListener('click', (e) => {
            const header = e.target.closest('.accordion-header');
            if (!header) return;

            const content = header.nextElementSibling;
            const icon = header.querySelector('span:last-child');
            const isOpen = content.style.maxHeight;

            document.querySelectorAll('.accordion-content').forEach(c => c.style.maxHeight = null);
            document.querySelectorAll('.accordion-header span:last-child').forEach(i => i.style.transform = '');

            if (!isOpen) {
                content.style.maxHeight = content.scrollHeight + 'px';
                icon.style.transform = 'rotate(180deg)';
            }
        });
    }

    initOverview();
    initBirthChart();
    initJourney();
    initSynthesis();
});
</script>
</body>
</html>
